---
layout: default
---
<div class="tag-single">
  <h2>标签: #{{ page.title }}</h2>

  {% assign tag_posts = site.tags | where_exp: "t", "t[0] == page.title" | map: "1" | first %}
  <p class="tag-info">共 {{ tag_posts.size }} 篇文章</p>

  <div class="posts-list">
    {% for post in tag_posts %}
      <article class="post-preview">
        {% if post.og_image %}
        <div class="post-preview-thumbnail-wrapper">
          <a href="{{ post.url | relative_url }}">
            <img src="{{ post.og_image | relative_url }}" alt="{{ post.title }}" class="post-preview-thumbnail">
          </a>
        </div>
        {% endif %}
        <div class="post-preview-content">
          <h3 class="post-title">
            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
          </h3>
          <div class="post-meta">
            <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%Y-%m-%d" }}</time>
            {% if post.categories %}
            <span class="post-categories">
              {% for category in post.categories %}
                <a href="{{ '/category/' | append: category | relative_url }}">{{ category }}</a>{% if forloop.last == false %}, {% endif %}
              {% endfor %}
            </span>
            {% endif %}
          </div>
          <div class="post-excerpt">
            {{ post.content | strip_html | truncatewords: 80 }}
          </div>
        </div>
      </article>
    {% endfor %}
  </div>

  {% if tag_posts.size == 0 %}
    <p>该标签下还没有文章。</p>
  {% endif %}

  <p class="back-link"><a href="{{ '/tags' | relative_url }}">&larr; 返回标签列表</a></p>
</div>
